## 代码修改的注释注入规范 (Annotation Injection Specification for Code Modification)
- **说明:** 本规范定义了在修改功能性源码时必须遵守的注释注入流程。上层指令在判断需要修改代码时，应激活并严格遵循此规范。

### 1. 触发条件 (Trigger Condition)
- **本规范仅在以下情况被激活:**
  - **目标文件:** 是源码文件 (如 `.rs`, `.py`, `.js` 等)。
  - **修改内容:** 涉及功能性逻辑 (函数、算法、控制流、变量修改等)。
- **豁免情况:** 修改文档 (`.md`)、配置文件 (`.json`)、注释或字符串字面量等非功能性部分时，**不激活**本规范。

### 2. 执行规则 (Execution Rules)
- **一旦触发，任何代码修改都必须伴随一个符合以下格式的注释。**

#### 规则 A: 单行修改
- **格式:** 在被修改行的正上方，添加 `// !Modify: [遵循“内容指导原则”撰写说明]`。

#### 规则 B: 多行/块级修改
- **格式:** 使用 `Start/End` 块精确包裹修改区域，并在块内提供 `!Desc` 和 `!AI_GUIDANCE`。
- **模板:**
  ```rust
  // ===== !Modify Start: [功能/修改点名称] =====
  // !Desc: [遵循“内容指导原则”撰写说明]
  // !AI_GUIDANCE: [为未来的代码合并提供指导]

  // ... modified or new code ...

  // ===== !Modify End: [功能/修改点名称] =====
  ```

### 3. 注释内容指导原则 (Content Guidance)
- **核心:** 解释“**为什么改 (Why)**”，而不是复述“**改了什么 (What)**”。
- **简洁性:** 如果代码意图自明，注释应极其简短，点明动机即可 (例如: `// !Modify: 延长超时以兼容慢速网络`)。
- **上下文:** 如果修改是复杂功能的一部分或有外部依赖，`!Desc` 必须说明其在整个功能链路中的角色和高级目标。
```